{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from \"flatpickr\";\n// Додатковий імпорт стилів\nimport \"flatpickr/dist/flatpickr.min.css\";\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst startBtn = document.querySelector(\"[data-start]\");\n\nconst datatimePicker = document.getElementById(`datetime-picker`)\n\nlet userSelectedDate = null;\n\n\n/* ТАЙМЕР */\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose: function (selectedDates) {\n    const selectedDate = selectedDates[0];\n    const now = new Date();\n    console.log(selectedDates[0]);\n\n   if(selectedDate <= now){\n    alert (`Please choose a date in the future`);\n    /* не активна кнопка (disabled-вимкнено) */\n    startBtn.disabled = true;\n   }else{\n    userSelectedDate = selectedDate;\n    startBtn.disabled = false;\n   }\n  },\n};\n\n\n\n\n/* FLATPICKR */\n flatpickr(`#datetime-picker`, options);\n\n/* Створення нових зміних для дата атрибута */\nconst daysSpan = document.querySelector(\"[data-days]\");\nconst hoursSpan = document.querySelector(\"[data-hours]\");\nconst minutesSpan = document.querySelector(\"[data-minutes]\");\nconst secondsSpan = document.querySelector(\"[data-seconds]\");\n\n\n\n/* ПОДІЯ НАТИСКАННЯ НА START  */\n startBtn.addEventListener(\"click\", function(){\n  if(!userSelectedDate) return;\n\n  startBtn.disabled = true;\n  datatimePicker.disabled = true;\n\nconst intervalCountdown = setInterval(function(){\nconst now = new Date();\nconst restTime = userSelectedDate - now;\n\n\n  if(restTime <= 0){\n    clearInterval(intervalCountdown);\n    daysSpan.textContent = `00`;\n    hoursSpan.textContent = `00`;\n    minutesSpan.textContent = `00`;\n    secondsSpan.textContent = `00`;\n    alert(`Time is up!`)\n    datatimePicker.disabled = false;\n    return;\n\n  }else{\n    const {days, hours, minutes, seconds} = convertMs(restTime);\n    daysSpan.textContent = addLeadingZero(days);\n    hoursSpan.textContent = addLeadingZero(hours);\n    minutesSpan.textContent = addLeadingZero(minutes);\n    secondsSpan.textContent = addLeadingZero(seconds);\n\n\n\n\n   } 1000});\n\n   document.getElementById(\"datetime-picker\").disabled = true;\n   startBtn.disabled = true;\n\n  });\n\n/* ФУНКЦІЯ КОНВЕРТАЦІЇ  МІЛІСЕКУНД */\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nconsole.log(convertMs(2000)); // {days: 0, hours: 0, minutes: 0, seconds: 2}\nconsole.log(convertMs(140000)); // {days: 0, hours: 0, minutes: 2, seconds: 20}\nconsole.log(convertMs(24140000)); // {days: 0, hours: 6 minutes: 42, seconds: 20}\n\n/*  ФУНКЦІЯ ДОДАВАННЯ НУЛЯ ДО ЧИСЛА   */\nfunction addLeadingZero(value){\n  return String(value).padStart(2, `0`)\n}"],"names":["startBtn","datatimePicker","userSelectedDate","options","selectedDates","selectedDate","now","flatpickr","daysSpan","hoursSpan","minutesSpan","secondsSpan","intervalCountdown","restTime","days","hours","minutes","seconds","convertMs","addLeadingZero","ms","value"],"mappings":"wIAWA,MAAMA,EAAW,SAAS,cAAc,cAAc,EAEhDC,EAAiB,SAAS,eAAe,iBAAiB,EAEhE,IAAIC,EAAmB,KAIvB,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAS,SAAUC,EAAe,CAChC,MAAMC,EAAeD,EAAc,CAAC,EAC9BE,EAAM,IAAI,KAChB,QAAQ,IAAIF,EAAc,CAAC,CAAC,EAE1BC,GAAgBC,GAClB,MAAO,oCAAoC,EAE3CN,EAAS,SAAW,KAEpBE,EAAmBG,EACnBL,EAAS,SAAW,GAErB,CACH,EAMCO,EAAU,mBAAoBJ,CAAO,EAGtC,MAAMK,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EAK1DX,EAAS,iBAAiB,QAAS,UAAU,CAC5C,GAAG,CAACE,EAAkB,OAEtBF,EAAS,SAAW,GACpBC,EAAe,SAAW,GAE5B,MAAMW,EAAoB,YAAY,UAAU,CAEhD,MAAMC,EAAWX,EADL,IAAI,KAId,GAAGW,GAAY,EAAE,CACf,cAAcD,CAAiB,EAC/BJ,EAAS,YAAc,KACvBC,EAAU,YAAc,KACxBC,EAAY,YAAc,KAC1BC,EAAY,YAAc,KAC1B,MAAM,aAAa,EACnBV,EAAe,SAAW,GAC1B,MAEJ,KAAO,CACH,KAAM,CAAC,KAAAa,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAIC,EAAUL,CAAQ,EAC1DL,EAAS,YAAcW,EAAeL,CAAI,EAC1CL,EAAU,YAAcU,EAAeJ,CAAK,EAC5CL,EAAY,YAAcS,EAAeH,CAAO,EAChDL,EAAY,YAAcQ,EAAeF,CAAO,CAK3C,CAAA,CAAC,EAEP,SAAS,eAAe,iBAAiB,EAAE,SAAW,GACtDjB,EAAS,SAAW,EAEvB,CAAG,EAIH,SAASkB,EAAUE,EAAI,CAQrB,MAAMN,EAAO,KAAK,MAAMM,EAAK,KAAG,EAE1BL,EAAQ,KAAK,MAAOK,EAAK,MAAO,IAAI,EAEpCJ,EAAU,KAAK,MAAQI,EAAK,MAAO,KAAQ,GAAM,EAEjDH,EAAU,KAAK,MAASG,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAN,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,QAAQ,IAAIC,EAAU,GAAI,CAAC,EAC3B,QAAQ,IAAIA,EAAU,IAAM,CAAC,EAC7B,QAAQ,IAAIA,EAAU,MAAQ,CAAC,EAG/B,SAASC,EAAeE,EAAM,CAC5B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC"}